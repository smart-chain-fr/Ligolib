export const string_failure = ([res,expected] : [test_exec_result, string]) : unit => {                                                                                                             
  let expected = Test.compile_value (expected) ; 
  match (res, {
    Fail: (x: test_exec_error) => (
      match (x, {
        Rejected: (x:[michelson_code,address]) => assert (Test.michelson_equal (x[0], expected)), 
        Other: (_:unit) => failwith ("Transaction should fail with rejection")
      })),
    Success: (_:unit) => failwith ("Transaction should fail")
  } );
} ;

